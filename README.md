# yahoo-fantasy-ha
This is a Home Assistant integration for a Yahoo Fantasy league (only tested for fantasy football at the moment). 

Disclaimer: I am not a programmer - all of this code was generated by Claude AI, so I cannot troubleshoot. Sorry :(

# Creating a Yahoo App
In order to use this integration, you first need to create a custom App in the Yahoo Developer Network. This will allow you to get a Client ID (Consumer Key) and Client Secret (Consumer Secret) that you'll need to link your Yahoo data with Home Assistant. You'll also need a valid oauth.json file that contains your credentials, which you'll get afterwards by editing the yahoo_oauth_ha with your credentails after setting up the Yahoo App.
1. Using your Yahoo credentials, login to the Yahoo Developer Network.
2. Click "Create an App".
3. Give your app:
   
   a. Application Name - you can use something like "Home Assistant"
   
   b. Description - Describe your app

   c. Homepage URL - Use the URL for your Home Assistant instance

   d. Redirect URI(s) - I'm not sure if this matters for how this is built, but Yahoo requires this to be https. I use https://localhost:8080 and this works for me

   e. Oauth Client Type - Choose Confidential Client

   f. API Permissions - Select Fantasy Sports, then make sure to select Read permissions.

4. Click Create App

Once you create your Yahoo App, it should be assigned a Client ID and Client Secret which you'll need to generate your oauth.json file in the next step.

# Generating your oauth.json file
You'll need to enter the credentials from your app into the yahoo_oauth_ha.py in order to generate your file correctly. This will authenticate your requests to the Yahoo API. The oauth file will stay refreshed automatically, so once you set up the file, you shouldn't need to do this again.
1. Download the yahoo_oauth_ha.py and open it.
2. Replace YOUR_YAHOO_APP_CONSUMER_KEY with your Yahoo App's Client ID
3. Replace YOUR_YAHOO_APP_CONSUMER_SECRET with your Yahoo App's Client Secret
4. Replace YOUR_PATH_TO_OAUTH_FILE_LOCATION with a directory where you'd like your oauth.json file to save once you run the script.
5. Save and exit yahoo_oauth_ha.py.
6. Run yahoo_oauth_ha.py - I ran this is Windows PowerShell by using the command "python3" followed by the path to the yahoo_oauth_ha.py script. Your browser should open up with a Sharing Approval code that you'll need to copy and paste back into PowerShell where you'll be asked to "Enter Verifier:".
7. Once you've verified, your oauth.json file should be generated at the path you entered in step 3.
8. Move this oauth.json file to the path of your Home Assistant configuration.yaml file.
